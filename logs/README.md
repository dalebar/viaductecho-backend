# Viaduct Echo Logs Directory

This directory contains organized log files for the Viaduct Echo news aggregation system.

## Directory Structure

```
logs/
├── sessions/           # News aggregation session logs
│   └── session_YYYYMMDD_HHMMSS.log
├── api/               # FastAPI/uvicorn server logs
│   └── api_YYYYMMDD_HHMMSS.log
└── README.md          # This documentation
```

## Log Types

### Session Logs (`logs/sessions/`)
- **Purpose**: Records news aggregation activities
- **Content**: RSS fetching, content extraction, AI summarization, GitHub publishing
- **Format**: `session_YYYYMMDD_HHMMSS.log`
- **Generated by**: `python -m src.main`
- **Level**: INFO

**Example entries:**
```
2025-09-02 18:46:43,507 - INFO - Session started - logging to logs/sessions/session_20250902_184643.log
2025-09-02 18:46:44,312 - INFO - Database connection established  
2025-09-02 18:46:46,229 - INFO - Updated content for: Murder charge over man's stabbing death
2025-09-02 18:46:49,194 - INFO - AI summary generated
```

### API Logs (`logs/api/`)
- **Purpose**: Records REST API server activities
- **Content**: HTTP requests, responses, uvicorn server events, FastAPI application logs
- **Format**: `api_YYYYMMDD_HHMMSS.log`
- **Generated by**: FastAPI server (uvicorn)
- **Level**: INFO

**Example entries:**
```
2025-09-02 19:00:15,123 - uvicorn.error - INFO - Started server process [12345]
2025-09-02 19:00:15,125 - uvicorn.error - INFO - Waiting for application startup
2025-09-02 19:00:15,130 - uvicorn.access - INFO - 127.0.0.1:54321 - "GET /api/v1/articles HTTP/1.1" 200 OK
```

## Log Management

### Automatic Features
- **Timestamped filenames** prevent overwrites
- **Console + file output** for development visibility
- **Organized separation** by application type

### Manual Maintenance
- Logs are **not automatically rotated** or cleaned
- Consider periodic cleanup of old log files
- For production, implement log rotation based on size/age

### Typical File Sizes
- Session logs: ~10-50KB per aggregation run
- API logs: Variable based on traffic (1-100KB per session)

## Usage Examples

### Monitoring Session Activity
```bash
# Watch latest session log
tail -f logs/sessions/session_*.log

# Search for errors in recent sessions
grep -i error logs/sessions/*.log
```

### Monitoring API Activity  
```bash
# Watch latest API log
tail -f logs/api/api_*.log

# Monitor HTTP requests
grep "HTTP/1.1" logs/api/*.log
```

### Finding Specific Events
```bash
# Find AI summarization activities
grep "AI summary" logs/sessions/*.log

# Find database connection issues
grep -i "database.*error" logs/**/*.log
```

## Integration Notes

- Logs are excluded from version control via `.gitignore`
- Both log types maintain the same timestamp format for correlation
- Session and API logs can be cross-referenced using timestamps
- All logs use ISO 8601 datetime format for consistency

## Troubleshooting

### No Log Files Created
- Ensure the application has write permissions to the `logs/` directory
- Check that the `logs/sessions/` and `logs/api/` directories exist

### Log Files Not Updating
- Verify the application is using the correct logging configuration
- Check for permission issues or disk space problems
- Ensure no other logging configuration is overriding the setup

### Finding Recent Activity
```bash
# Find most recent session log
ls -t logs/sessions/ | head -1

# Find most recent API log  
ls -t logs/api/ | head -1
```